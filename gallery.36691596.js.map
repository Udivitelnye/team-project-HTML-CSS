{"version":3,"sources":["gallery.js"],"names":["multiItemSlider","selector","config","_mainElement","document","querySelector","_sliderWrapper","_sliderItems","querySelectorAll","_sliderControls","_sliderControlLeft","_sliderControlRight","_wrapperWidth","parseFloat","getComputedStyle","width","_itemWidth","_positionLeftItem","_transform","_step","_items","forEach","item","index","push","position","transform","length","_transformItem","direction","classList","contains","add","remove","style","_controlClick","e","target","preventDefault","addEventListener","right","left","slider"],"mappings":";AACI,aACA,IAAIA,EACK,SAAUC,EAAUC,GAEvBC,IAAAA,EAAeC,SAASC,cAAcJ,GACtCK,EAAiBH,EAAaE,cAAc,oBAC5CE,EAAeJ,EAAaK,iBAAiB,iBAC7CC,EAAkBN,EAAaK,iBAAiB,oBAChDE,EAAqBP,EAAaE,cAAc,yBAChDM,EAAsBR,EAAaE,cAAc,0BACjDO,EAAgBC,WAAWC,iBAAiBR,GAAgBS,OAC5DC,EAAaH,WAAWC,iBAAiBP,EAAa,IAAIQ,OAC1DE,EAAoB,EACpBC,EAAa,EACbC,EAAQH,EAAaJ,EAAgB,IACrCQ,EAAS,GAEXb,EAAac,QAAQ,SAAUC,EAAMC,GACnCH,EAAOI,KAAK,CAAEF,KAAMA,EAAMG,SAAUF,EAAOG,UAAW,MAGpDD,IAAAA,EACM,EADNA,EAEML,EAAOO,OAAS,EAGtBC,EAAiB,SAAUC,GACzBA,GAAc,UAAdA,EAAuB,CACpBZ,GAAAA,EAAoBL,EAAgBI,EAAa,GAAMS,EAC1D,OAEGf,EAAmBoB,UAAUC,SAAS,yBACzCrB,EAAmBoB,UAAUE,IAAI,wBAE/BrB,EAAoBmB,UAAUC,SAAS,yBAA4Bd,EAAoBL,EAAgBI,GAAeS,GACxHd,EAAoBmB,UAAUG,OAAO,wBAEvChB,IACAC,GAAcC,EAEZU,GAAc,SAAdA,EAAsB,CACpBZ,GAAAA,GAAqBQ,EACvB,OAEGd,EAAoBmB,UAAUC,SAAS,yBAC1CpB,EAAoBmB,UAAUE,IAAI,wBAEhCtB,EAAmBoB,UAAUC,SAAS,yBAA2Bd,EAAoB,GAAKQ,GAC5Ff,EAAmBoB,UAAUG,OAAO,wBAEtChB,IACAC,GAAcC,EAEhBb,EAAe4B,MAAMR,UAAY,cAAgBR,EAAa,MAI5DiB,EAAgB,SAAUC,GACxBA,GAAAA,EAAEC,OAAOP,UAAUC,SAAS,mBAAoB,CAClDK,EAAEE,iBACET,IAAAA,EAAYO,EAAEC,OAAOP,UAAUC,SAAS,yBAA2B,QAAU,OACjFH,EAAeC,KAcZ,OARLpB,EAAgBY,QAAQ,SAAUC,GAChCA,EAAKiB,iBAAiB,QAASJ,KAO5B,CACLK,MAAO,WACLZ,EAAe,UAEjBa,KAAM,WACJb,EAAe,WAOnBc,EAAS1C,EAAgB","file":"gallery.36691596.js","sourceRoot":"../src","sourcesContent":[" \n    'use strict';\n    var multiItemSlider = (function () {\n      return function (selector, config) {\n        var\n          _mainElement = document.querySelector(selector), // основный элемент блока\n          _sliderWrapper = _mainElement.querySelector('.slider__wrapper'), // обертка для .slider-item\n          _sliderItems = _mainElement.querySelectorAll('.slider__item'), // элементы (.slider-item)\n          _sliderControls = _mainElement.querySelectorAll('.slider__control'), // элементы управления\n          _sliderControlLeft = _mainElement.querySelector('.slider__control_left'), // кнопка \"LEFT\"\n          _sliderControlRight = _mainElement.querySelector('.slider__control_right'), // кнопка \"RIGHT\"\n          _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), // ширина обёртки\n          _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), // ширина одного элемента    \n          _positionLeftItem = 0, // позиция левого активного элемента\n          _transform = 0, // значение транфсофрмации .slider_wrapper\n          _step = _itemWidth / _wrapperWidth * 100, // величина шага (для трансформации)\n          _items = []; // массив элементов\n        // наполнение массива _items\n        _sliderItems.forEach(function (item, index) {\n          _items.push({ item: item, position: index, transform: 0 });\n        });\n\n        var position = {\n          getMin: 0,\n          getMax: _items.length - 1,\n        }\n\n        var _transformItem = function (direction) {\n          if (direction === 'right') {\n            if ((_positionLeftItem + _wrapperWidth / _itemWidth - 1) >= position.getMax) {\n              return;\n            }\n            if (!_sliderControlLeft.classList.contains('slider__control_show')) {\n              _sliderControlLeft.classList.add('slider__control_show');\n            }\n            if (_sliderControlRight.classList.contains('slider__control_show') && (_positionLeftItem + _wrapperWidth / _itemWidth) >= position.getMax) {\n              _sliderControlRight.classList.remove('slider__control_show');\n            }\n            _positionLeftItem++;\n            _transform -= _step;\n          }\n          if (direction === 'left') {\n            if (_positionLeftItem <= position.getMin) {\n              return;\n            }\n            if (!_sliderControlRight.classList.contains('slider__control_show')) {\n              _sliderControlRight.classList.add('slider__control_show');\n            }\n            if (_sliderControlLeft.classList.contains('slider__control_show') && _positionLeftItem - 1 <= position.getMin) {\n              _sliderControlLeft.classList.remove('slider__control_show');\n            }\n            _positionLeftItem--;\n            _transform += _step;\n          }\n          _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';\n        }\n\n        // обработчик события click для кнопок \"назад\" и \"вперед\"\n        var _controlClick = function (e) {\n          if (e.target.classList.contains('slider__control')) {\n            e.preventDefault();\n            var direction = e.target.classList.contains('slider__control_right') ? 'right' : 'left';\n            _transformItem(direction);\n          }\n        };\n\n        var _setUpListeners = function () {\n          // добавление к кнопкам \"назад\" и \"вперед\" обрботчика _controlClick для событя click\n          _sliderControls.forEach(function (item) {\n            item.addEventListener('click', _controlClick);\n          });\n        }\n\n        // инициализация\n        _setUpListeners();\n\n        return {\n          right: function () { // метод right\n            _transformItem('right');\n          },\n          left: function () { // метод left\n            _transformItem('left');\n          }\n        }\n\n      }\n    }());\n\n    var slider = multiItemSlider('.slider')\n\n  \n"]}